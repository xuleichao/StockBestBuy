## 介绍
- 通过分析股票的价格走势，K线特征来判断股票是不是最佳的买入时间

---
## 步骤
1. 爬取历史股价，K线(完成)
- [所有股票代码](http://quote.eastmoney.com/stocklist.html)(完成)
- [股票数据](http://www.aigaogao.com/tools/history.html)(完成)
- 数据标注(完成省广1000条数据标注)
2. 建模(完成)
- 特征路径：./utils/calculate_percent.py  
- 模型路径：./utils/CRF_train
- 针对省广的历史数据预测结果: 对历史数据预测结果.xlsx
---
![蜡烛图](https://github.com/xuleichao/StockBestBuy/blob/master/static/images/%E8%9C%A1%E7%83%9B%E5%9B%BE.jpg)
- 建模步骤：根据蜡烛图建模，获得各个组件所占比例。需要获得如下比例

    1. 蜡烛图总长度为基准
    2. 上影线所占基准的比例(百分比，不保留小数)
    3. 下影线所占基准的比例(百分比，不保留小数)
    4. 实体所占基准的比例(百分比，不保留小数)
- 函数参数
    1. 参数---func(最高价，收盘价，开盘价，最低价)
    2. 基准长度 = 最高价 - 最低价
    3. 上影线长度 = 最高价 - 收盘价
    4. 下影线长度 = 开盘价 - 最低价
    5. 实体长度 = 收盘价 - 开盘价
    6. 返回 上影线比例， 下影响比例，实体比例
- 标注样例

| 上影线 | 实体特征 | 下影线特征 | 是否购买 |
|--------|----------|------------|----------|
| 0%     | 73%      | -27%       | 0        |
| 33%    | 44%      | 23%        | 0        |
| 58%    | 17%      | -25%       | 0        |
| 73%    | 6%       | 22%        | 0        |
| 2%     | 30%      | 68%        | 0        |
| 0%     | 2%       | -98%       | 0        | 
    
3. 预测

| 日期       | 是否入手 |
|------------|----------|
| 02/28/2019 | 1        |
| 10/10/2018 | 1        |
| 09/17/2018 | 1        |
| 04/19/2018 | 1        |
| 06/09/2017 | 1        |
| 09/14/2016 | 1        |
| 08/09/2016 | 1        |
| 07/22/2016 | 1        |
| 06/29/2016 | 1        |
| 06/16/2016 | 1        |
| 05/31/2016 | 1        |

附：
[BeautifulSoup文档](https://www.crummy.com/software/BeautifulSoup/bs4/doc/index.zh.html)
